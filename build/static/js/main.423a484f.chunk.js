(this.webpackJsonpunihelp=this.webpackJsonpunihelp||[]).push([[0],{107:function(e,t,c){},108:function(e,t,c){},109:function(e,t,c){},110:function(e,t,c){},241:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c(23),n=c.n(a),r=(c(107),c(108),c(109),c(110),c(3)),i=c(10),l=c(7),o=c(24),d=c(96),j=c(97),b=c(9),m="SET_ALERT",u="REMOVE_ALERT",h="LOGIN_SUCCESS",O="LOGIN_FAILED",x="USER_LOADED",p="AUTH_ERROR",f="LOGOUT",g="GET_ALL_NOTIFICATIONS",v="GET_NOTIFICATION",N="SET_NOTIFICATION_READ",k="SET_ALL_NOTIFICATIONS_READ",y="CLEAR_NOTIFICATIONS",w="GET_ALL_TICKETS",T="GET_TICKET",S="CREATE_TICKET",C="CLEAR_TICKETS",E="MARK_APPROVE",A="MARK_RESOLVED",R="MARK_CLOSED",I="GET_CATEGORIES",L=[];var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,c=t.type,s=t.payload;switch(c){case m:return[].concat(Object(b.a)(e),[s]);case u:return e.filter((function(e){return e.id!==s}));default:return e}},F=c(2),U={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null};var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,c=t.type,s=t.payload;switch(c){case x:case h:return Object(F.a)(Object(F.a)({},e),{},{isAuthenticated:!0,loading:!1,user:s});case O:return Object(F.a)(Object(F.a)({},e),{},{isAuthenticated:!1,loading:!1});case p:case f:return Object(F.a)(Object(F.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null});default:return e}},M={notification:null,notifications:[],loading:!0};var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,c=t.type,s=t.payload;switch(c){case v:return Object(F.a)(Object(F.a)({},e),{},{notification:s,loading:!1});case g:return Object(F.a)(Object(F.a)({},e),{},{notifications:s,loading:!1});case N:return Object(F.a)(Object(F.a)({},e),{},{notifications:e.notifications.map((function(e){return e.id===s?Object(F.a)(Object(F.a)({},e),{},{isRead:!0}):e})),loading:!1});case k:return Object(F.a)(Object(F.a)({},e),{},{notifications:e.notifications.map((function(e){return Object(F.a)(Object(F.a)({},e),{},{isRead:!0})})),loading:!1});case y:return Object(F.a)(Object(F.a)({},e),{},{notification:null,notifications:[],loading:!0});default:return e}},D={ticket:null,tickets:[],loading:!0,categories:[]};var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,c=t.type,s=t.payload;switch(c){case I:return Object(F.a)(Object(F.a)({},e),{},{categories:s,loading:!1});case T:return Object(F.a)(Object(F.a)({},e),{},{ticket:s,loading:!1});case w:return Object(F.a)(Object(F.a)({},e),{},{tickets:s,loading:!1});case S:return Object(F.a)(Object(F.a)({},e),{},{tickets:[s].concat(Object(b.a)(e.tickets)),loading:!1});case C:return Object(F.a)(Object(F.a)({},e),{},{ticket:null,tickets:[],loading:!0});case E:case A:case R:return Object(F.a)(Object(F.a)({},e),{},{ticket:s});default:return e}},H=Object(o.combineReducers)({alert:_,auth:P,notification:q,tickets:G}),B=c(34),X=c.n(B),K=X.a.create({headers:{"Content-Type":"application/json"}});K.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&Q.dispatch({type:f}),Promise.reject(e)}));var Z=K,V=function(e){e?(Z.defaults.headers.common["x-auth-token"]=e,localStorage.setItem("token",e)):(delete Z.defaults.headers.common["x-auth-token"],localStorage.removeItem("token"))},W=[j.a],z=Object(o.createStore)(H,{},Object(d.composeWithDevTools)(o.applyMiddleware.apply(void 0,W))),J=z.getState();z.subscribe((function(){var e=J;if(J=z.getState(),e.auth.token!==J.auth.token){var t=J.auth.token;V(t)}}));var Q=z,Y=c(5),$=c.n(Y),ee=c(13),te=c(245),ce=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e3;return function(a){var n=Object(te.a)();a({type:m,payload:{msg:e,alertType:t,dismiss:c,id:n}}),c||setTimeout((function(){return a({type:u,payload:n})}),s)}},se=function(){return function(){var e=Object(ee.a)($.a.mark((function e(t){var c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("user logged"),e.prev=1,e.next=4,Z.get("/login");case 4:c=e.sent,t({type:x,payload:c.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:p});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},ae=function(){return function(e){e({type:f}),e({type:y}),e({type:C}),e({type:"CLEAR_REPLIES"})}},ne=c(101),re=c(0),ie=Object(l.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,c=e.auth,s=c.isAuthenticated,a=c.loading,n=Object(ne.a)(e,["component","auth"]);return Object(re.jsx)(i.b,Object(F.a)(Object(F.a)({},n),{},{render:function(e){return s&&!a?Object(re.jsx)(t,Object(F.a)({},e)):Object(re.jsx)(i.a,{to:"/"})}}))})),le=c(11),oe=c(14),de=c(20),je=c.n(de);alert.propTypes={alerts:je.a.array.isRequired,removeAlert:je.a.func.isRequired};var be=Object(l.b)((function(e){return{alerts:e.alert}}),{removeAlert:function(e){return function(t){t({type:u,payload:e})}}})((function(e){var t=e.alerts,c=e.removeAlert;return null!==t&&t.length>0&&t.map((function(e){return e.dismiss?Object(re.jsxs)("div",{className:"alert alert-".concat(e.alertType," alert-dismissible fade show"),children:[e.msg,Object(re.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:function(){return c(e.id)}})]},e.id):Object(re.jsx)("div",{className:"alert alert-".concat(e.alertType),children:e.msg},e.id)}))})),me=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(){var c=Object(ee.a)($.a.mark((function c(s){var a;return $.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Z.get("http://localhost:5000/users?username=".concat(e,"&password=").concat(t));case 3:a=c.sent,s({type:h,payload:a.data[0]}),c.next=12;break;case 7:c.prev=7,c.t0=c.catch(0),s(ce("Invalid Credentials","danger",!1,3e3)),s({type:O}),console.log(c.t0);case 12:case"end":return c.stop()}}),c,null,[[0,7]])})));return function(e){return c.apply(this,arguments)}}()},setAlert:ce})((function(e){var t=e.isAuthenticated,c=e.login,a=e.setAlert,n=Object(s.useState)({username:"",password:"",errors:[]}),r=Object(oe.a)(n,2),l=r[0],o=r[1],d=l.username,j=l.password,b=l.errors,m=function(e){o(Object(F.a)(Object(F.a)({},l),{},Object(le.a)({},e.target.name,e.target.value)))};return t?Object(re.jsx)(i.a,{to:"/home"}):Object(re.jsx)("div",{className:"landing",children:Object(re.jsx)("div",{className:"dark-overlay",children:Object(re.jsx)("div",{className:"container d-flex align-items-center",children:Object(re.jsx)("div",{className:"form-holder",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col-lg-6",children:Object(re.jsx)("div",{className:"info d-flex align-items-center",children:Object(re.jsxs)("div",{className:"content",children:[Object(re.jsx)("div",{className:"logo",children:Object(re.jsx)("h1",{children:"UniHelp"})}),Object(re.jsx)("p",{className:"lead",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Tempore, in."})]})})}),Object(re.jsx)("div",{className:"col-lg-6",children:Object(re.jsx)("div",{className:"form d-flex align-items-center",children:Object(re.jsxs)("div",{className:"content",children:[Object(re.jsxs)("form",{className:"form-validate mb-4",onSubmit:function(e){return function(e){if(e.preventDefault(),""===d.trim()&&b.push("Username is Required"),""===j.trim()&&b.push("Password is Required"),o(Object(F.a)(Object(F.a)({},l),{},{errors:b})),b.length>0)return b.forEach((function(e){a(e,"danger",!1,3e3)})),void o({username:"",password:"",errors:[]});c(d,j),o({username:"",password:"",errors:[]})}(e)},children:[Object(re.jsx)(be,{}),Object(re.jsxs)("div",{className:"form-floating mb-3",children:[Object(re.jsx)("input",{type:"text",className:"form-control input-material",name:"username",autoComplete:"off",placeholder:"",value:d,onChange:function(e){return m(e)}}),Object(re.jsx)("label",{htmlFor:"username",className:"label-material",children:"Username"})]}),Object(re.jsxs)("div",{className:"form-floating mb-3",children:[Object(re.jsx)("input",{type:"password",className:"form-control input-material",name:"password",placeholder:"",value:j,onChange:function(e){return m(e)}}),Object(re.jsx)("label",{htmlFor:"password",className:"label-material",children:"Password"})]}),Object(re.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"})]}),Object(re.jsxs)("p",{className:"",children:["Forgot Password?",Object(re.jsx)("a",{href:"#",className:" ms-2",children:"Submit Ticket"})]})]})})})]})})})})})})),ue=c(30),he=c.n(ue),Oe=Object(l.b)((function(e){return{user:e.auth.user.id}}),{setNotificationRead:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(c){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:N,payload:e.id});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.notification,c=e.setNotificationRead,s=e.user,a=t.id,n=t.name,i=t.message,l=t.date,o=t.isRead,d=he()("content",{"mark-unRead":!o});return Object(re.jsx)(r.b,{to:"/notifications/".concat(a),className:"message d-flex align-items-center",onClick:function(){return o?null:c(Object(F.a)({user:s},t))},children:Object(re.jsxs)("div",{className:d,children:[Object(re.jsx)("strong",{className:"d-block",children:n}),Object(re.jsx)("span",{className:"d-block text-truncate",children:i}),Object(re.jsx)("small",{className:"date d-block",children:l})]})})})),xe=Object(l.b)((function(e){return{user:e.auth.user,notifications:e.notification.notifications}}),{logout:ae,setAllNotificationsRead:function(){return{type:k}}})((function(e){var t=e.logout,c=e.setAllNotificationsRead,a=(e.user.id,e.notifications);Object(s.useEffect)((function(){document.querySelectorAll(".dropdown").forEach((function(e){e.addEventListener("show.bs.dropdown",(function(){var t=Array.from(e.children).find((function(e){return e.classList.contains("dropdown-menu")})),c=0,s=setInterval((function(){50===++c&&(t.classList.add("active"),clearInterval(s))}),3)})),e.addEventListener("hide.bs.dropdown",(function(){Array.from(e.children).find((function(e){return e.classList.contains("dropdown-menu")})).classList.remove("active")}))}))}),[]);var n=a.filter((function(e){return!1===e.isRead})).length>0?Object(re.jsx)("span",{className:"badge bg-danger",children:a.filter((function(e){return!1===e.isRead})).length}):null;return Object(re.jsx)("header",{children:Object(re.jsx)("nav",{className:"navbar navbar-expand-lg",children:Object(re.jsxs)("div",{className:"container-fluid d-flex align-items-center justify-content-between",children:[Object(re.jsxs)("div",{className:"navbar-header",children:[Object(re.jsxs)(r.b,{to:"/home",className:"navbar-brand",children:[Object(re.jsxs)("div",{className:"brand-text brand-big visible text-uppercase",children:[Object(re.jsx)("strong",{className:"text-primary",children:"Uni"}),Object(re.jsx)("strong",{children:"help"})]}),Object(re.jsxs)("div",{className:"brand-text brand-sm text-uppercase",children:[Object(re.jsx)("strong",{className:"text-primary",children:"Uni"}),Object(re.jsx)("strong",{children:"help"})]})]}),Object(re.jsx)("button",{className:"sidebar-toggle",children:Object(re.jsx)("i",{className:"fa fa-long-arrow-left"})})]}),Object(re.jsxs)("div",{className:"right-menu list-inline no-margin-bottom",children:[Object(re.jsxs)("div",{className:"list-inline-item dropdown",children:[Object(re.jsxs)("a",{href:"#",id:"messageMenu",className:"nav-link messages-toggle ","data-bs-toggle":"dropdown",role:"button","aria-expanded":"false",children:[Object(re.jsx)("i",{className:"icon-bell"}),n]}),Object(re.jsxs)("div",{className:"dropdown-menu messages messages-block","aria-labelledby":"messagesMenu",children:[Object(re.jsxs)("div",{className:"messages-header d-flex justify-content-between align-items-center",onClick:function(e){e.stopPropagation()},children:[Object(re.jsx)("span",{className:"lead ",children:"Notifications"}),Object(re.jsx)("span",{className:"",role:"button",onClick:function(){return c()},children:"Mark all as Read"})]}),a.map((function(e){return Object(re.jsx)(Oe,{notification:e},e.id)})),Object(re.jsx)(r.b,{to:"/notifications",className:"dropdown-item text-center message",children:Object(re.jsxs)("strong",{children:["See All Notifications ",Object(re.jsx)("i",{className:"fa fa-angle-right"})]})})]})]}),Object(re.jsxs)("div",{className:"list-inline-item dropdown",children:[Object(re.jsx)("a",{href:"#",id:"languageMenu",className:"nav-link language dropdown-toggle","data-bs-toggle":"dropdown",role:"button","aria-expanded":"false",children:Object(re.jsx)("span",{className:"d-inline-block",children:"English"})}),Object(re.jsx)("div",{className:"dropdown-menu",id:"languagesCollapse",children:Object(re.jsx)("a",{href:"#",className:"dropdown-item",children:Object(re.jsx)("span",{children:"Arabic"})})})]}),Object(re.jsx)("div",{className:"list-inline-item logout",children:Object(re.jsxs)("a",{id:"logout",href:"#!",className:"nav-link",onClick:t,children:[Object(re.jsx)("span",{className:"d-none d-sm-inline",children:"Logout "}),Object(re.jsx)("i",{className:"icon-logout"})]})})]})]})})})})),pe=function(e){var t=e.path,c=e.icon,s=e.name;return Object(re.jsx)("li",{children:Object(re.jsxs)(r.c,{to:t,activeClassName:"active",children:[c?Object(re.jsx)("i",{className:"icon-".concat(c)}):null,s]})})},fe=Object(l.b)((function(e){return{role:e.auth.user.role}}))((function(e){var t=e.role;Object(s.useEffect)((function(){!function(){var e=document.querySelector(".sidebar-toggle");e.addEventListener("click",(function(){e.classList.toggle("active"),document.querySelector("#sidebar").classList.toggle("shrinked"),document.querySelector(".page-content").classList.toggle("active"),e.classList.contains("active")?(document.querySelector(".navbar-brand .brand-sm").classList.add("visible"),document.querySelector(".navbar-brand .brand-big").classList.remove("visible"),e.firstElementChild.setAttribute("class","fa fa-long-arrow-right")):(document.querySelector(".navbar-brand .brand-sm").classList.remove("visible"),document.querySelector(".navbar-brand .brand-big").classList.add("visible"),e.firstElementChild.setAttribute("class","fa fa-long-arrow-left"))}))}()}),[]);return Object(re.jsx)(s.Fragment,{children:Object(re.jsxs)("nav",{id:"sidebar",children:[Object(re.jsx)("div",{className:"sidebar-header d-flex align-items-center justify-content-center",children:Object(re.jsxs)("div",{className:"title",children:[Object(re.jsx)("h1",{className:"h5",children:"Fname Lname"}),Object(re.jsx)("p",{children:"Lorem, ipsum dolor."})," "]})}),Object(re.jsx)("span",{className:"heading",children:"Main"}),Object(re.jsxs)("ul",{className:"list-unstyled",children:[Object(re.jsx)(pe,{path:"/home",icon:"home",name:"Home"}),Object(re.jsx)(pe,{path:"/notifications",icon:"bell",name:"Notifications"})]}),function(){switch(t){case"student":return Object(re.jsxs)(s.Fragment,{children:[Object(re.jsx)("span",{className:"heading",children:"Student Panel"}),Object(re.jsx)("ul",{className:"list-unstyled",children:Object(re.jsx)(pe,{path:"/tickets",icon:"paper-and-pencil",name:"Tickets"})})]});case"employee":return Object(re.jsxs)(s.Fragment,{children:[Object(re.jsx)("span",{className:"heading",children:"Employee Panel"}),Object(re.jsxs)("ul",{className:"list-unstyled",children:[Object(re.jsx)(pe,{path:"/tickets",icon:"paper-and-pencil",name:"Tickets"}),Object(re.jsx)(pe,{path:"/dashboard",icon:"chart",name:"Dashboard"}),Object(re.jsxs)("li",{children:[Object(re.jsxs)("a",{href:"#menuDropdown","aria-expanded":"false","data-bs-toggle":"collapse",children:[Object(re.jsx)("i",{className:"icon-settings"}),"Settings"]}),Object(re.jsx)("ul",{className:"list-unstyled collapse",id:"menuDropdown",children:Object(re.jsx)(pe,{path:"/permissions",name:"Permissions"})})]})]})]})}}()]})})})),ge=c(243),ve=function(){return Object(re.jsx)("footer",{className:"footer",children:Object(re.jsx)("div",{className:"footer__block block no-margin-bottom",children:Object(re.jsx)("div",{className:"container-fluid text-center",children:Object(re.jsxs)("p",{className:"no-margin-bottom",children:[Object(ge.a)(new Date)," \xa9 UniHelp"]})})})})},Ne=function(){return Object(re.jsx)("div",{className:"spinner-border text-primary",style:{width:"3rem",height:"3rem",margin:"auto",display:"block"},role:"status",children:Object(re.jsx)("span",{className:"sr-only",children:"Loading..."})})},ke=function(){return Object(re.jsxs)(s.Fragment,{children:[Object(re.jsx)("div",{className:"page-header",children:Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsx)("h2",{className:"h5 no-margin-bottom",children:"Home"})})}),Object(re.jsxs)("section",{style:{textTransform:"capitalize"},children:[Object(re.jsxs)("div",{className:"alert alert-primary lead",children:["Super User ",Object(re.jsx)("br",{}),Object(re.jsxs)("ol",{children:[Object(re.jsxs)("li",{children:["Perms:",Object(re.jsxs)("ol",{children:[Object(re.jsx)("li",{children:"Get Categories"}),Object(re.jsx)("li",{children:"Get All Users"}),Object(re.jsx)("li",{children:"Change User Role"})]})]}),Object(re.jsxs)("li",{children:["Dashboard:",Object(re.jsx)("ol",{children:Object(re.jsx)("li",{children:"Ticket Statistics"})})]}),Object(re.jsxs)("li",{children:["System Logs:",Object(re.jsxs)("ol",{children:[Object(re.jsx)("li",{children:"Actions"}),Object(re.jsx)("li",{children:"Search by Ticked Id"})]})]})]})]}),Object(re.jsxs)("div",{className:"alert alert-primary lead",children:["Master:",Object(re.jsxs)("ol",{children:[Object(re.jsx)("li",{children:"Get All Tickets ( Open / Pending Resolve )"}),Object(re.jsxs)("li",{children:["Approve && Close"," ",Object(re.jsx)("span",{className:"text-dark text-bold",children:"New Tickets"})]})]})]}),Object(re.jsxs)("div",{className:"alert alert-primary lead",children:["Employee:",Object(re.jsxs)("ol",{children:[Object(re.jsx)("li",{children:"Get Tickets Assigned // Get forward tickets"}),Object(re.jsxs)("li",{children:["Forward Ticket",Object(re.jsxs)("ul",{children:[Object(re.jsx)("li",{children:"Update ticket timeline"}),Object(re.jsx)("li",{children:"Only show the reply if not private"}),Object(re.jsx)("li",{})]})]}),Object(re.jsxs)("li",{children:["Resolve Ticket"," ",Object(re.jsx)("span",{className:"text-dark text-bold",children:"Will be set pending"})]})]})]}),Object(re.jsxs)("div",{className:"alert alert-primary lead",children:["Student",Object(re.jsxs)("ol",{children:[Object(re.jsx)("li",{children:"Create Ticket"}),Object(re.jsx)("li",{children:"Preview Timeline, Preview Replies"}),Object(re.jsxs)("li",{children:["Edit / Delete Ticket Within 15 Minutes"," ",Object(re.jsx)("span",{className:"text-dark text-bold",children:"(Backend)"})]})]})]}),Object(re.jsxs)("div",{className:"alert alert-primary lead",children:["Ticket",Object(re.jsxs)("ol",{children:[Object(re.jsxs)("li",{children:["Custom Ticket Id, XXX-XXX-XXX ",Object(re.jsx)("br",{})," VCE-NRQ-628"]}),Object(re.jsx)("li",{children:"Show Ticket Id"}),Object(re.jsx)("li",{children:"Ticket Timeline"}),Object(re.jsx)("li",{children:"Ticket Replies"})]})]})]})]})},ye=Object(l.b)((function(e){return{notifications:e.notification.notifications}}))((function(e){var t=e.notifications;return Object(re.jsxs)(s.Fragment,{children:[Object(re.jsx)("div",{className:"page-header no-margin-bottom",children:Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsx)("h2",{className:"h5 no-margin-bottom",children:"Notifications"})})}),Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsxs)("ul",{className:"breadcrumb",children:[Object(re.jsx)("li",{className:"breadcrumb-item",children:Object(re.jsx)(r.b,{to:"/home",children:"Home"})}),Object(re.jsx)("li",{className:"breadcrumb-item active",children:"Notifications"})]})}),Object(re.jsx)("section",{className:"no-padding-top",children:Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsx)("div",{className:"messages-block block",children:Object(re.jsx)("div",{className:"messages",children:t.map((function(e){return Object(re.jsx)(Oe,{notification:e},e.id)}))})})})})]})})),we=Object(l.b)((function(e){return{notification:e.notification}}),{getNotification:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(c){var s;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.a.get("http://localhost:5000/notifications/".concat(e));case 3:s=t.sent,c({type:v,payload:s.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getNotification,c=e.notification,a=c.notification,n=c.loading,i=e.match;return Object(s.useEffect)((function(){t(i.params.id)}),[t,i.params.id]),n||null===a?Object(re.jsx)(Ne,{}):Object(re.jsxs)(s.Fragment,{children:[Object(re.jsx)("div",{className:"page-header no-margin-bottom",children:Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsx)("h2",{className:"h5 no-margin-bottom",children:"Notifications"})})}),Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsxs)("ul",{className:"breadcrumb",children:[Object(re.jsx)("li",{className:"breadcrumb-item",children:Object(re.jsx)(r.b,{to:"/home",children:"Home"})}),Object(re.jsx)("li",{className:"breadcrumb-item",children:Object(re.jsx)(r.b,{to:"/notifications",children:"Notifications"})}),Object(re.jsx)("li",{className:"breadcrumb-item active",children:a.name})]})}),Object(re.jsx)("section",{className:"no-padding-top",children:Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsx)("div",{className:"messages-block block",children:Object(re.jsx)("div",{className:"messages",children:Object(re.jsx)("div",{className:"message d-flex align-items-center",children:Object(re.jsxs)("div",{className:"content",children:[Object(re.jsx)("strong",{className:"d-block",children:a.name}),Object(re.jsx)("span",{className:"d-block",children:a.message}),Object(re.jsx)("small",{className:"date d-block",children:a.date})]})})})})})})]})})),Te=function(e){var t=e.ticket,c=t.id,s=t.title,a=t.content,n=t.date,i=t.status;return Object(re.jsx)(r.b,{to:"/tickets/".concat(c),className:"ticket d-flex align-items-center",children:Object(re.jsxs)("div",{className:"content",children:[Object(re.jsxs)("div",{className:"title",children:[Object(re.jsxs)("strong",{children:[function(){switch(i){case"open":return Object(re.jsx)("strong",{className:"ticket-status open",children:"[open]"});case"closed":return Object(re.jsx)("strong",{className:"ticket-status closed",children:"[closed]"});case"resolved":return Object(re.jsx)("strong",{className:"ticket-status resolved",children:"[resolved]"});default:return Object(re.jsx)("strong",{className:"ticket-status",children:"[new]"})}}(),s]}),Object(re.jsx)("span",{className:"d-block",children:c})]}),Object(re.jsx)("span",{className:"d-block text-truncate",children:a}),Object(re.jsx)("small",{className:"date d-block",children:n})]})})},Se=Object(l.b)((function(e){return{user:e.auth.user,tickets:e.tickets}}),{getTicketsByUserId:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(c){var s;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.get("http://localhost:5000/tickets?user=".concat(e));case 3:s=t.sent,c({type:w,payload:s.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getAssignedTicketsByUserId:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(c){var s;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.get("http://localhost:5000/tickets?user=".concat(e));case 3:s=t.sent,c({type:w,payload:s.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getTicketsByUserId,c=e.getAssignedTicketsByUserId,a=e.tickets,n=a.loading,i=a.tickets,l=e.user;Object(s.useEffect)((function(){o()}),[]);var o=function(){switch(l.role){case"student":t(l.id);break;case"employee":c(l.id);break;default:return}};return n||null===i?Object(re.jsx)(Ne,{}):Object(re.jsxs)(s.Fragment,{children:[Object(re.jsx)("div",{className:"page-header no-margin-bottom",children:Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsx)("h2",{className:"h5 no-margin-bottom",children:"Tickets"})})}),Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsxs)("ul",{className:"breadcrumb",children:[Object(re.jsx)("li",{className:"breadcrumb-item",children:Object(re.jsx)(r.b,{to:"/home",children:"Home"})}),Object(re.jsx)("li",{className:"breadcrumb-item active",children:"Tickets"})]})}),Object(re.jsx)("section",{children:Object(re.jsxs)("div",{className:"container-fluid",children:[Object(re.jsx)("div",{className:"block alert-primary",children:Object(re.jsx)("strong",{children:"Sorting by newest"})}),Object(re.jsx)(be,{}),Object(re.jsxs)("div",{className:"tickets-block block",children:["student"===l.role?Object(re.jsx)(r.b,{className:"btn btn-primary mb-3",to:"/tickets/create",children:"Create Ticket"}):null,Object(re.jsx)("div",{className:"tickets",children:i.map((function(e){return Object(re.jsx)(Te,{ticket:e},e.id)}))})]})]})})]})})),Ce=c(244),Ee=c(8),Ae=c(100),Re=Object(l.b)((function(e){return{user:e.auth.user}}))((function(e){var t=e.ticket,c=e.reply,a=Object(s.useState)(!1),n=Object(oe.a)(a,2),r=n[0],i=n[1],l=Object(Ce.a)(Object(Ee.a)(c.date),"MMM, d, yyyy, h:mm aa");return Object(re.jsxs)("div",{className:"reply d-flex flex-column mb-3",children:[Object(re.jsx)("div",{className:"content",children:Object(re.jsx)("div",{className:"reply-header",onClick:function(){return i(!r)},"aria-expanded":r,children:Object(re.jsxs)("div",{className:"title no-margin-bottom",children:[Object(re.jsxs)("strong",{children:[Object(re.jsx)("strong",{className:"me-1",children:"Re:"}),"open"===t.status?Object(re.jsx)("strong",{className:"ticket-status open",children:"[open]"}):"closed"===t.status?Object(re.jsx)("strong",{className:"ticket-status closed",children:"[closed]"}):"resolved"===t.status?Object(re.jsx)("strong",{className:"ticket-status resolved",children:"[resolved]"}):Object(re.jsx)("strong",{className:"ticket-status",children:"[new]"}),t.title]}),Object(re.jsxs)("span",{className:"d-block",children:["by ",c.name]}),Object(re.jsx)("small",{className:"date d-block",children:l})]})})}),Object(re.jsx)("div",{children:Object(re.jsx)(Ae.a,{in:r,children:Object(re.jsx)("div",{children:Object(re.jsx)("p",{className:"ticket-content",children:c.content})})})})]})})),Ie=Object(l.b)((function(e){return{ticket:e.tickets.ticket}}))((function(e){var t=e.ticket;return t.replies.length>0?Object(re.jsxs)(s.Fragment,{children:[Object(re.jsx)("div",{className:"title",children:Object(re.jsx)("strong",{children:"Replies"})}),Object(re.jsx)("div",{className:"replies",children:t.replies.map((function(e){return Object(re.jsx)(Re,{ticket:t,reply:e},e.id)}))})]}):null})),Le=function(){var e=Object(s.useState)({content:"",searchInput:"",isPrivate:!1}),t=Object(oe.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)([]),r=Object(oe.a)(n,2),i=r[0],l=r[1],o=Object(s.useState)([{id:1,name:"Mostafa"},{id:2,name:"Mohamed"},{id:3,name:"Ahmed"},{id:4,name:"mahmoud"},{id:5,name:"Zakerya El derdar"},{id:6,name:"Zakerya El derdar"},{id:7,name:"Zakerya El derdar"},{id:8,name:"Zakerya El derdar"},{id:9,name:"Zakerya El derdar"},{id:10,name:"Zakerya El derdar"}]),d=Object(oe.a)(o,2),j=d[0],b=(d[1],c.content),m=c.searchInput,u=c.isPrivate,h=function(e){a(Object(F.a)(Object(F.a)({},c),{},{searchInput:e.target.value})),l(j.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase().trim())})))},O=he()("search-input form-control form-control-lg",{active:m.trim().length>2});return Object(re.jsx)(s.Fragment,{children:Object(re.jsx)("form",{children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col-sm-12 col-md-7 col-lg-8",children:Object(re.jsxs)("div",{className:"form-floating mb-3 ",children:[Object(re.jsx)("textarea",{className:"form-control input-material ",name:"content",value:b,placeholder:"",onChange:function(e){return function(e){a(Object(F.a)(Object(F.a)({},c),{},{content:e.target.value}))}(e)}}),Object(re.jsx)("label",{htmlFor:"content",className:"label-material",children:"Forward's Content"})]})}),Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("div",{className:"mb-3 dropdown",children:[Object(re.jsx)("a",{href:"#searchUsers",className:"dropdown-toggle","data-bs-toggle":"dropdown",role:"button","aria-expanded":"false",children:Object(re.jsx)("strong",{children:"Search"})}),Object(re.jsxs)("div",{className:"mb-3 dropdown-menu  search-block p-3",id:"searchUsers",children:[Object(re.jsx)("label",{className:"form-label",children:"Search..."}),Object(re.jsx)("input",{type:"text",className:O,placeholder:"",value:m,onChange:function(e){return h(e)}}),Object(re.jsx)("div",{className:"search-display",children:Object(re.jsx)("ul",{className:"list-unstyled mb-0",children:i.length>0?i.map((function(e){return Object(re.jsx)("li",{children:Object(re.jsx)("strong",{children:e.name})},e.id)})):Object(re.jsx)("strong",{children:"Nothing Found..."})})})]})]}),Object(re.jsxs)("div",{className:"mb-3 search-block",children:[Object(re.jsx)("label",{className:"form-label",children:"Forward to:"}),Object(re.jsx)("input",{type:"text",className:O,placeholder:"Enter their name...",value:m,onChange:function(e){return h(e)}}),Object(re.jsx)("div",{className:"search-display dropdown-menu",children:Object(re.jsx)("ul",{className:"list-unstyled mb-0",children:i.length>0?i.map((function(e){return Object(re.jsx)("li",{children:Object(re.jsx)("strong",{children:e.name})},e.id)})):Object(re.jsx)("strong",{children:"Nothing Found..."})})})]}),Object(re.jsxs)("div",{className:"form-check form-switch",children:[Object(re.jsx)("label",{className:"form-check-label ms-1",children:"Private Forward"}),Object(re.jsx)("input",{type:"checkbox",className:"form-check-input",checked:u,onChange:function(){return a(Object(F.a)(Object(F.a)({},c),{},{isPrivate:!u}))}})]}),Object(re.jsx)("input",{type:"submit",className:"btn btn-outline-primary w-100",value:"Submit"})]})]})})})},_e=function(e){var t=e.path,c=Object(Ce.a)(Object(Ee.a)(t.date),"MMM, d, yyyy, h:mm aa");return Object(re.jsxs)("div",{className:"timeline-item",children:[Object(re.jsx)("span",{className:"timeline-item-dot",children:Object(re.jsx)("i",{className:"badge badge-dot",children:" "})}),Object(re.jsxs)("div",{className:"timeline-item-content",children:[Object(re.jsx)("p",{className:"no-margin-bottom",children:t.name}),Object(re.jsx)("span",{className:"timeline-item-date d-block",children:c})]})]})},Fe=Object(l.b)((function(e){return{user:e.auth.user,tickets:e.tickets}}),{getTicketById:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(c){var s;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.get("http://localhost:5000/tickets/".concat(e));case 3:s=t.sent,c({type:T,payload:s.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},markTicketApprove:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(c){var s;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.patch("http://localhost:5000/tickets/".concat(e),{status:"open"});case 3:s=t.sent,c({type:E,payload:s.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},markTicketResolved:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(c){var s;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.patch("http://localhost:5000/tickets/".concat(e),{status:"resolved"});case 3:s=t.sent,c({type:A,payload:s.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},markTicketClosed:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(c){var s;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.patch("http://localhost:5000/tickets/".concat(e),{status:"closed"});case 3:s=t.sent,c({type:R,payload:s.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.match,c=e.getTicketById,a=e.markTicketApprove,n=e.markTicketResolved,i=e.markTicketClosed,l=e.tickets,o=l.ticket,d=l.loading,j=e.user.role;return Object(s.useEffect)((function(){c(t.params.id)}),[c,t.params.id]),d||null===o?Object(re.jsx)(Ne,{}):Object(re.jsxs)(s.Fragment,{children:[Object(re.jsx)("div",{className:"page-header no-margin-bottom",children:Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsx)("h2",{className:"h5 no-margin-bottom",children:"Tickets"})})}),Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsxs)("ul",{className:"breadcrumb",children:[Object(re.jsx)("li",{className:"breadcrumb-item",children:Object(re.jsx)(r.b,{to:"/home",children:"Home"})}),Object(re.jsx)("li",{className:"breadcrumb-item",children:Object(re.jsx)(r.b,{to:"/tickets",children:"Tickets"})}),Object(re.jsx)("li",{className:"breadcrumb-item active",children:o.title})]})}),Object(re.jsx)("section",{children:Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsxs)("div",{className:"tickets-block block",children:["student"===j||"open"!==o.status&&"new"!==o.status?null:Object(re.jsxs)("div",{className:"mb-3",children:["new"===o.status?Object(re.jsx)("input",{type:"button",className:"btn btn-outline-success me-3",value:"Approve Ticket",onClick:function(){return a(o.id)}}):null,"open"===o.status?Object(re.jsx)("input",{type:"button",className:"btn btn-outline-info me-3",value:"Mark as resolved",onClick:function(){return n(o.id)}}):null,Object(re.jsx)("input",{type:"button",className:"btn btn-outline-danger",value:"Mark as closed",onClick:function(){return i(o.id)}})]}),Object(re.jsxs)("div",{className:"row mb-3",children:[Object(re.jsx)("div",{className:"col-sm-12 col-lg-9",children:Object(re.jsx)("div",{className:"tickets",children:Object(re.jsx)("div",{className:"ticket d-flex align-items-center",children:Object(re.jsxs)("div",{className:"content",children:[Object(re.jsxs)("div",{className:"title",children:[Object(re.jsxs)("strong",{children:["open"===o.status?Object(re.jsx)("strong",{className:"ticket-status open",children:"[open]"}):"closed"===o.status?Object(re.jsx)("strong",{className:"ticket-status closed",children:"[closed]"}):"resolved"===o.status?Object(re.jsx)("strong",{className:"ticket-status resolved",children:"[resolved]"}):Object(re.jsx)("strong",{className:"ticket-status",children:"[new]"}),o.title]}),Object(re.jsx)("span",{className:"d-block",children:o.id}),Object(re.jsxs)("span",{className:"d-block",children:["to ","Student Affairs"]}),Object(re.jsx)("small",{className:"date d-block",children:o.date})]}),Object(re.jsx)("p",{className:"d-block ticket-content",children:o.content})]})})})}),o.path.length>0?Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("div",{className:"timeline card",children:Object(re.jsxs)("div",{className:"card-body",children:[Object(re.jsx)("h4",{className:"card-title",children:"Ticket Path"}),Object(re.jsx)("div",{className:"timeline-body",children:o.path.map((function(e){return Object(re.jsx)(_e,{path:e},Object(te.a)())}))})]})})}):null]}),"student"!==j?Object(re.jsx)(Le,{}):null,Object(re.jsx)(Ie,{})]})})})]})})),Ue=function(e){var t=e.categoryId,c=e.onChange,s=e.label;return Object(re.jsxs)("div",{className:"form-check form-switch",children:[Object(re.jsx)("input",{type:"radio",className:"form-check-input",name:"categorySwitch",value:t,onChange:c}),Object(re.jsx)("label",{className:"form-check-label",children:s})]})},Pe=Object(l.b)((function(e){return{user:e.auth.user,categories:e.tickets.categories}}),{getCategories:function(){return function(){var e=Object(ee.a)($.a.mark((function e(t){var c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.get("http://localhost:5000/categories");case 3:c=e.sent,t({type:I,payload:c.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},createTicket:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(c){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e);try{Z.post("/submit_ticket",e),c(ce("Ticket Created","success",!1,3e3))}catch(s){console.log(s)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setAlert:ce})((function(e){var t=e.getCategories,c=e.categories,a=e.createTicket,n=e.user.id,i=e.setAlert,l=e.history;Object(s.useEffect)((function(){t()}),[t]);var o=Object(s.useState)({title:"",content:"",category_id:null,errors:[]}),d=Object(oe.a)(o,2),j=d[0],b=d[1],m=j.title,u=j.content,h=j.category_id,O=j.errors,x=function(e){b(Object(F.a)(Object(F.a)({},j),{},Object(le.a)({},e.target.name,e.target.value)))};return null===c?Object(re.jsx)(Ne,{}):Object(re.jsxs)(s.Fragment,{children:[Object(re.jsx)("div",{className:"page-header no-margin-bottom",children:Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsx)("h2",{className:"h5 no-margin-bottom",children:"Tickets"})})}),Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsxs)("ul",{className:"breadcrumb",children:[Object(re.jsx)("li",{className:"breadcrumb-item",children:Object(re.jsx)(r.b,{to:"/home",children:"Home"})}),Object(re.jsx)("li",{className:"breadcrumb-item",children:Object(re.jsx)(r.b,{to:"/tickets",children:"Tickets"})}),Object(re.jsx)("li",{className:"breadcrumb-item active",children:"Create Ticket"})]})}),Object(re.jsx)("section",{children:Object(re.jsxs)("div",{className:"container-fluid",children:[Object(re.jsx)(be,{}),Object(re.jsx)("form",{className:"ticket-form",onSubmit:function(e){return function(e){if(e.preventDefault(),""===m.trim()&&O.push("Ticket Title is Required"),""===u.trim()&&O.push("Ticket Content is Required"),null===h&&O.push("Ticket Category is Required"),b(Object(F.a)(Object(F.a)({},j),{},{errors:O})),O.length>0)return O.forEach((function(e){i(e,"danger",!1,1e3)})),document.querySelector('input[name="categorySwitch"]:checked')&&(document.querySelector('input[name="categorySwitch"]:checked').checked=!1),void b(Object(F.a)(Object(F.a)({},j),{},{category_id:null,errors:[]}));a({student_id:n,title:m,content:u,category_id:h}),b({title:"",content:"",category_id:null,errors:[]}),document.querySelector('input[name="categorySwitch"]:checked')&&(document.querySelector('input[name="categorySwitch"]:checked').checked=!1),l.push("/tickets")}(e)},children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col-md-12 col-lg-8",children:Object(re.jsxs)("div",{className:"block",children:[Object(re.jsx)("div",{className:"title",children:Object(re.jsx)("strong",{className:"d-block",children:"Create Ticket"})}),Object(re.jsxs)("div",{className:"block-body",children:[Object(re.jsxs)("div",{className:"form-floating mb-3",children:[Object(re.jsx)("input",{type:"text",className:"form-control input-material",name:"title",value:m,placeholder:"",onChange:function(e){return x(e)}}),Object(re.jsx)("label",{htmlFor:"subject",className:"label-material",children:"Subject"})]}),Object(re.jsxs)("div",{className:"form-floating mb-3",children:[Object(re.jsx)("textarea",{className:"form-control input-material",name:"content",value:u,placeholder:"",onChange:function(e){return x(e)}}),Object(re.jsx)("label",{htmlFor:"content",className:"label-material",children:"Content"})]})]})]})}),Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"block",children:[Object(re.jsx)("div",{className:"title",children:Object(re.jsx)("strong",{className:"d-block",children:"Select Category"})}),Object(re.jsxs)("div",{className:"block-body",children:[c.map((function(e){return Object(re.jsx)(Ue,{categoryId:e.category_id,onChange:function(e){return function(e){b(Object(F.a)(Object(F.a)({},j),{},{category_id:e.target.value}))}(e)},label:e.category_name},e.category_id)})),Object(re.jsx)("div",{className:"d-grid mt-3 mx-md-auto col-md-8 col-lg-12",children:Object(re.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Submit"})})]})]})})]})})]})})]})})),Me=function(e){var t=e.icon,c=e.title,s=e.number,a=e.status,n=void 0===a?"":a;return Object(re.jsx)("div",{className:"statistic-block block",children:Object(re.jsxs)("div",{className:"progress-details d-flex align-items-end justify-content-between",children:[Object(re.jsxs)("div",{className:"title",children:[Object(re.jsx)("div",{className:"icon",children:Object(re.jsx)("i",{className:"icon-".concat(t),style:{fontSize:"1.25em"}})}),Object(re.jsx)("strong",{children:c})]}),Object(re.jsx)("div",{className:"number ticket-status ".concat(n),children:s})]})})},qe=function(){return Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col-sm-6 col-md-3",children:Object(re.jsx)(Me,{icon:"paper-and-pencil",title:"Tickets new",number:15})}),Object(re.jsx)("div",{className:"col-sm-6 col-md-3",children:Object(re.jsx)(Me,{icon:"paper-and-pencil",title:"Tickets open",status:"open",number:19})}),Object(re.jsx)("div",{className:"col-sm-6 col-md-3",children:Object(re.jsx)(Me,{icon:"paper-and-pencil",title:"Tickets closed",status:"closed",number:6})}),Object(re.jsx)("div",{className:"col-sm-6 col-md-3",children:Object(re.jsx)(Me,{icon:"paper-and-pencil",title:"Ticket resolved",status:"resolved",number:10})})]})},De=c(45),Ge=function(){var e=Object(s.useState)({labels:["New","Opened","Closed","Resolved"],datasets:[{data:[15,19,6,10],backgroundColor:["rgba(255, 193, 7, 0.6)","rgba(40, 167, 69, 0.6)","rgba(187, 65, 77, 0.6)","rgba(23, 162, 184, 0.6)"],hoverBackgroundColor:["rgba(255, 193, 7, 1)","rgba(40, 167, 69, 1)","rgba(187, 65, 77, 1)","rgba(23, 162, 184, 1)"],borderColor:["rgba(255, 193, 7, 1)","rgba(40, 167, 69, 1)","rgba(187, 65, 77, 1)","rgba(23, 162, 184, 1)"],borderWidth:1,hoverOffset:4}]}),t=Object(oe.a)(e,2),c=t[0];t[1];return Object(re.jsxs)("div",{className:"pie-chart chart block ",children:[Object(re.jsx)("div",{className:"title",children:Object(re.jsx)("strong",{children:"Pie Chart Example"})}),Object(re.jsx)("div",{children:Object(re.jsx)(De.b,{data:c,height:300,options:{maintainAspectRatio:!1,layout:{padding:20},plugins:{legend:{position:"left",labels:{color:"#8a8d93",font:{size:"14"}}}}}})})]})},He=function(){var e=Object(s.useState)({labels:["New","Opened","Closed","Resolved"],datasets:[{label:"System Tickets",data:[15,19,6,10],backgroundColor:["rgba(255, 193, 7, 0.7)","rgba(40, 167, 69, 0.7)","rgba(187, 65, 77, 0.7)","rgba(23, 162, 184, 0.7)"],hoverBackgroundColor:["rgba(255, 193, 7, 1)","rgba(40, 167, 69, 1)","rgba(187, 65, 77, 1)","rgba(23, 162, 184, 1)"],borderColor:["rgba(255, 193, 7, 1)","rgba(40, 167, 69, 1)","rgba(187, 65, 77, 1)","rgba(23, 162, 184, 1)"],borderWidth:1}]}),t=Object(oe.a)(e,2),c=t[0];t[1];return Object(re.jsxs)("div",{className:"pie-chart chart block ",children:[Object(re.jsx)("div",{className:"title",children:Object(re.jsx)("strong",{children:"Bar Chart Example"})}),Object(re.jsx)("div",{children:Object(re.jsx)(De.a,{data:c,height:300,options:{maintainAspectRatio:!1,indexAxis:"y",layout:{padding:20},plugins:{legend:{labels:{color:"#8a8d93",font:{size:14}}}},scales:{y:{grid:{color:"rgba(138, 141, 147, 0.2)"},ticks:{color:"#8a8d93"}},x:{grid:{color:"rgba(138, 141, 147, 0.2)"},ticks:{color:"#8a8d93"}}}}})})]})},Be=function(){return Object(re.jsxs)(s.Fragment,{children:[Object(re.jsx)("div",{className:"page-header no-margin-bottom",children:Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsx)("h2",{className:"h5 no-margin-bottom",children:"Dashboard"})})}),Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsxs)("ul",{className:"breadcrumb",children:[Object(re.jsx)("li",{className:"breadcrumb-item",children:Object(re.jsx)(r.b,{to:"/home",children:"Home"})}),Object(re.jsx)("li",{className:"breadcrumb-item active",children:"Dashboard"})]})}),Object(re.jsx)("section",{children:Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsx)(qe,{})})}),Object(re.jsx)("section",{children:Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col-sm-12 col-md-6",children:Object(re.jsx)(Ge,{})}),Object(re.jsx)("div",{className:"col-sm-12 col-md-6",children:Object(re.jsx)(He,{})})]})})})]})},Xe=function(){var e=Object(s.useState)("Super User"),t=Object(oe.a)(e,2),c=t[0],a=t[1],n=function(e){a(e.target.value)};return Object(re.jsxs)("div",{className:"card",children:[Object(re.jsx)("h3",{className:"perms-title",children:"Roles & Permissions"}),Object(re.jsxs)("div",{className:"card-body p-3",children:[Object(re.jsxs)("div",{className:"dropdown mb-3",children:[Object(re.jsx)("a",{href:"#",id:"rolesPerms",className:"dropdown-toggle","data-bs-toggle":"dropdown",role:"button","aria-expanded":"false",children:Object(re.jsx)("span",{children:c})}),Object(re.jsxs)("div",{className:"dropdown-menu",id:"rolesPerms",children:[Object(re.jsx)("button",{className:"dropdown-item",type:"button",value:"Super User",onClick:function(e){return n(e)},children:"Super User"}),Object(re.jsx)("button",{className:"dropdown-item",type:"button",value:"Master User",onClick:function(e){return n(e)},children:"Master User"}),Object(re.jsx)("button",{className:"dropdown-item",type:"button",value:"Employee",onClick:function(e){return n(e)},children:"Employee"}),Object(re.jsx)("button",{className:"dropdown-item",type:"button",value:"Studnet",onClick:function(e){return n(e)},children:"Studnet"})]})]}),Object(re.jsxs)("div",{className:"perms-body",children:[Object(re.jsx)("div",{className:"title",children:Object(re.jsx)("h3",{children:c})}),Object(re.jsxs)("div",{className:"perms-category",children:[Object(re.jsxs)("h5",{className:"d-flex align-item-center justify-content-between ",children:[Object(re.jsx)("span",{className:"perms-category-role",children:"Approve Ticket"}),Object(re.jsx)("div",{className:"form-check form-switch",children:Object(re.jsx)("input",{type:"checkbox",className:"form-check-input"})})]}),Object(re.jsxs)("h5",{className:"d-flex align-item-center justify-content-between",children:[Object(re.jsx)("span",{className:"perms-category-role",children:"Resolve Ticket"}),Object(re.jsx)("div",{className:"form-check form-switch",children:Object(re.jsx)("input",{type:"checkbox",className:"form-check-input",defaultChecked:!0})})]}),Object(re.jsxs)("h5",{className:"d-flex align-item-center justify-content-between",children:[Object(re.jsx)("span",{className:"perms-category-role",children:"View System Logs"}),Object(re.jsx)("div",{className:"form-check form-switch",children:Object(re.jsx)("input",{type:"checkbox",className:"form-check-input",disabled:!0})})]}),Object(re.jsxs)("h5",{className:"d-flex align-item-center justify-content-between",children:[Object(re.jsx)("span",{className:"perms-category-role",children:"Edit Roles"}),Object(re.jsx)("div",{className:"form-check form-switch",children:Object(re.jsx)("input",{type:"checkbox",className:"form-check-input",checked:!0,disabled:!0})})]})]})]})]})]})},Ke=function(){return Object(re.jsxs)("div",{className:"card",children:[Object(re.jsx)("h3",{className:"perms-title",children:"Users"}),Object(re.jsxs)("div",{className:"card-body p-3",children:[Object(re.jsxs)("div",{className:"row mb-3",children:[Object(re.jsx)("label",{className:"col-sm-3 col-form-label ",children:"Search:"}),Object(re.jsx)("div",{className:"col-sm-9",children:Object(re.jsx)("input",{type:"text",className:"form-control"})})]}),Object(re.jsx)("hr",{}),Object(re.jsxs)("div",{className:"perms-body",children:[Object(re.jsx)("div",{className:"title",children:Object(re.jsx)("strong",{children:"User Name"})}),Object(re.jsx)("div",{className:"perms-item",children:Object(re.jsx)("p",{className:"",children:"Super User"})}),Object(re.jsx)("div",{className:"perms-item",children:Object(re.jsx)("p",{className:"",children:"Master User"})}),Object(re.jsx)("div",{className:"perms-item",children:Object(re.jsx)("p",{className:"",children:"Employee"})}),Object(re.jsx)("div",{className:"perms-item",children:Object(re.jsx)("p",{className:"",children:"Studnet"})})]})]})]})},Ze=function(){return Object(re.jsxs)(s.Fragment,{children:[Object(re.jsx)("div",{className:"page-header no-margin-bottom",children:Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsx)("h2",{className:"h5 no-margin-bottom",children:"Permissions"})})}),Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsxs)("ul",{className:"breadcrumb",children:[Object(re.jsx)("li",{className:"breadcrumb-item",children:Object(re.jsx)(r.b,{to:"/home",children:"Home"})}),Object(re.jsx)("li",{className:"breadcrumb-item active",children:"Permissions"})]})}),Object(re.jsx)("section",{children:Object(re.jsx)("div",{className:"container-fluid",children:Object(re.jsx)("div",{className:"block",children:Object(re.jsx)("div",{className:"perms-block",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col-lg-6",children:Object(re.jsx)(Xe,{})}),Object(re.jsx)("div",{className:"col",children:Object(re.jsx)(Ke,{})})]})})})})})]})},Ve=function(){return Object(re.jsx)("div",{className:"landing",children:Object(re.jsx)("div",{className:"dark-overlay",children:Object(re.jsxs)("div",{className:"container text-light",children:[Object(re.jsxs)("h1",{className:"display-3 mt-5 ",children:[Object(re.jsx)("span",{className:"text-danger",children:"404"})," Page Not Found"]}),Object(re.jsx)("p",{className:"lead",children:"Sorry, that page does not exist!"})]})})})},We=Object(l.b)((function(e){return{auth:e.auth,notifications:e.notification.notifications}}),{getAllNotifications:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(c){var s;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.a.get("http://localhost:5000/notifications?user=".concat(e));case 3:s=t.sent,c({type:g,payload:s.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getAllNotifications,c=e.auth,a=c.loading,n=c.user.id,r=e.notifications;return Object(s.useEffect)((function(){t(n)}),[t]),a||null===r?Object(re.jsx)(Ne,{}):Object(re.jsxs)(s.Fragment,{children:[Object(re.jsx)(xe,{}),Object(re.jsxs)("div",{className:"d-flex align-items-stretch",children:[Object(re.jsx)(fe,{}),Object(re.jsxs)("div",{className:"page-content",children:[Object(re.jsxs)(i.d,{children:[Object(re.jsx)(ie,{exact:!0,path:"/home",component:ke}),Object(re.jsx)(ie,{exact:!0,path:"/notifications",component:ye}),Object(re.jsx)(ie,{exact:!0,path:"/notifications/:id",component:we}),Object(re.jsx)(ie,{exact:!0,path:"/tickets",component:Se}),Object(re.jsx)(ie,{exact:!0,path:"/tickets/create",component:Pe}),Object(re.jsx)(ie,{exact:!0,path:"/tickets/:id",component:Fe}),Object(re.jsx)(ie,{exact:!0,path:"/dashboard",component:Be}),Object(re.jsx)(ie,{exact:!0,path:"/permissions",component:Ze}),Object(re.jsx)(i.b,{component:Ve})]}),Object(re.jsx)(ve,{})]})]})]})})),ze=function(){return Object(s.useEffect)((function(){localStorage.setItem("token","token"),localStorage.token&&V(localStorage.token),Q.dispatch(se()),window.addEventListener("storage",(function(){localStorage.token||Q.dispatch(ae())}))}),[]),Object(re.jsx)(l.a,{store:Q,children:Object(re.jsx)(r.a,{children:Object(re.jsx)(s.Fragment,{children:Object(re.jsxs)(i.d,{children:[Object(re.jsx)(i.b,{exact:!0,path:"/",component:me}),Object(re.jsx)(ie,{component:We})]})})})})};n.a.render(Object(re.jsx)(ze,{}),document.getElementById("root"))}},[[241,1,2]]]);
//# sourceMappingURL=main.423a484f.chunk.js.map